@inherits LayoutComponentBase
@inject IInicioRepository _inicioRepository

<PageTitle>AlAnon</PageTitle>
<div class="page">
	<div style="background-image: linear-gradient(135deg, #6B73FF 10%, #000DFF 100%);" class="sidebar">
		<NavMenu />
	</div>

	<main>
		@if (!String.IsNullOrEmpty(InicioDto.ImagenDeInicio))
		{
@*			<div style="background-image: url(@InicioDto.ImagenDeInicio);
			height: 140px;
			width: 100%;
			background-size: auto;
			background-repeat: no-repeat;">
			</div>*@
			<div style="position:relative; width:100%; height:140px;">
				<MudImage ObjectFit="@InicioDto.ImageFitLogo" ObjectPosition="@InicioDto.ImagePositionLogo" Height="@InicioDto.ImageHeightLogo" Width="@InicioDto.ImageWidthLogo" style="position:absolute;" Src="@InicioDto.ImagenDeInicioLogo" />
				<MudImage ObjectFit="@InicioDto.ImageFit" ObjectPosition="@InicioDto.ImagePosition" Height="@InicioDto.ImageHeight" Style="width:100%;" Src="@InicioDto.ImagenDeInicio" />
			</div>
			<div class="top-row row-lg-4 row-md-6 auth">
				<LoginDisplay />
			</div>
		}
		else
		{
			<div class="top-row px-4 auth">
			<LoginDisplay />
			</div>
		}
		<article class="content px-4">
			@Body
		</article>
	</main>
</div>
<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

@code {
	private InicioDto InicioDto = new();

	protected override async void OnInitialized()
	{
		await ObtenerInicio();
	}

	private async Task ObtenerInicio()
	{
		var result = await _inicioRepository.ObtenerInicio();
		if (result != null && result.Exito)
		{
			InicioDto = result.Data;
		}
	}
}